# Application
PROJECT_NAME=LMS Backend
ENVIRONMENT=production
API_V1_PREFIX=/api/v1
DEBUG=false
ENABLE_API_DOCS=false
STRICT_ROUTER_IMPORTS=true
METRICS_ENABLED=true
METRICS_PATH=/metrics
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.0
SENTRY_SEND_PII=false
SENTRY_ENABLE_FOR_CELERY=true

# Database
POSTGRES_USER=lms
POSTGRES_PASSWORD=change-strong-db-password
POSTGRES_DB=lms
DATABASE_URL=postgresql+psycopg2://lms:change-strong-db-password@db:5432/lms
PROD_DATABASE_URL=postgresql+psycopg2://lms:change-strong-db-password@db:5432/lms
SQLALCHEMY_ECHO=false
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# Security
SECRET_KEY=replace-with-a-strong-random-secret-at-least-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=30
EMAIL_VERIFICATION_TOKEN_EXPIRE_MINUTES=1440
REQUIRE_EMAIL_VERIFICATION_FOR_LOGIN=true
MFA_CHALLENGE_TOKEN_EXPIRE_MINUTES=10
MFA_LOGIN_CODE_EXPIRE_MINUTES=10
MFA_LOGIN_CODE_LENGTH=6
ACCESS_TOKEN_BLACKLIST_ENABLED=true
ACCESS_TOKEN_BLACKLIST_FAIL_CLOSED=true
FRONTEND_BASE_URL=https://app.example.com
EMAIL_FROM=no-reply@example.com
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=smtp-user
SMTP_PASSWORD=change-strong-smtp-password
SMTP_USE_TLS=true
SMTP_USE_SSL=false

# CORS / Hosts
CORS_ORIGINS=https://app.example.com
TRUSTED_HOSTS=api.example.com

# Redis / Celery
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
PROD_REDIS_URL=redis://redis:6379/0
PROD_CELERY_BROKER_URL=redis://redis:6379/1
PROD_CELERY_RESULT_BACKEND=redis://redis:6379/2
TASKS_FORCE_INLINE=false
RATE_LIMIT_USE_REDIS=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_REDIS_PREFIX=ratelimit
RATE_LIMIT_EXCLUDED_PATHS=/,/docs,/redoc,/openapi.json,/api/v1/health,/api/v1/ready,/metrics

# File Uploads
UPLOAD_DIR=uploads
CERTIFICATES_DIR=certificates
MAX_UPLOAD_MB=100
ALLOWED_UPLOAD_EXTENSIONS=mp4,avi,mov,pdf,doc,docx,jpg,jpeg,png
FILE_STORAGE_PROVIDER=local
FILE_DOWNLOAD_URL_EXPIRE_SECONDS=900

# Optional AWS S3
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
AWS_S3_BUCKET=
AWS_S3_BUCKET_URL=
